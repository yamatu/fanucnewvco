# ==========================================
# Docker Compose 环境变量示例（复制为 .env）
# ==========================================

# MySQL
MYSQL_ROOT_PASSWORD=change_me_root_password
MYSQL_DATABASE=fanuc_sales
MYSQL_USER=fanuc
MYSQL_PASSWORD=change_me_db_password

# Backend JWT（生产务必替换强随机值）
JWT_SECRET=please_change_me_in_production
JWT_EXPIRES_HOURS=24
CUSTOMER_JWT_EXPIRES_HOURS=168
DB_AUTO_MIGRATE=true

# CORS（前端访问后端的 Origin 白名单；多值用逗号分隔）
# Docker + Nginx 场景：一般是 http://localhost:3006
CORS_ORIGINS=http://localhost:3000,http://localhost:3006,http://127.0.0.1:3000,http://127.0.0.1:3006

# 默认管理员（生产建议首次初始化后关闭 SEED_DEFAULT_ADMIN）
# 重置密码方式：
# 1) 设置 SEED_DEFAULT_ADMIN=true
# 2) 设置 DEFAULT_ADMIN_PASSWORD 为新密码
# 3) 设置 RESET_DEFAULT_ADMIN_PASSWORD=true
# 4) `docker compose up -d --force-recreate backend`
SEED_DEFAULT_ADMIN=false
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_EMAIL=admin@vcocnc.com
DEFAULT_ADMIN_FULLNAME=System Administrator
DEFAULT_ADMIN_ROLE=admin
DEFAULT_ADMIN_PASSWORD=
RESET_DEFAULT_ADMIN_PASSWORD=false

# Frontend（SSR 内部访问后端用 service 名；浏览器端走 /api/v1 相对路径）
NEXT_PUBLIC_API_BASE_URL=http://backend:8080
# 对外入口 URL（推荐由“宿主机 Nginx”提供 80/443，然后反代到容器）
# 本地不装 Nginx 时可以先用 Next 容器直连：http://localhost:3000
NEXT_PUBLIC_SITE_URL=http://localhost:3000
# Server-only base URL（避免 Next.js 在 build 时内联 NEXT_PUBLIC_*）
SITE_URL=http://localhost:3000
NEXT_PUBLIC_SITE_NAME=FANUC Parts Store
NEXT_PUBLIC_SITE_DESCRIPTION=Professional FANUC Parts and Equipment Sales

# 可选：如果你仍要使用 compose 内置 Nginx（profile internal-nginx）才需要
# NGINX_PORT=3006

# 宿主机反代到容器用（默认只绑定 127.0.0.1）
FRONTEND_PORT=3000
BACKEND_PORT=8080

# Base image registry/mirror（构建 backend/frontend 时用）
# 默认 docker.io；如果你所在网络访问 Docker Hub 不稳定，可改成镜像源，例如：
# BASE_REGISTRY=dockerproxy.net
# BASE_REGISTRY=docker.m.daocloud.io
# 注意：镜像源偶发 500 时，切回 docker.io 再试。
BASE_REGISTRY=docker.io

# Redis (rate limit + cache)
# NOTE: if you expose Redis to a network, set a strong password.
REDIS_ADDR=redis:6379
REDIS_PASSWORD=
REDIS_DB=0

# Rate limiting
LOGIN_RATE_LIMIT_PER_MINUTE=10

# Public cache TTLs (seconds)
CACHE_TTL_CATEGORIES_SECONDS=300
CACHE_TTL_HOMEPAGE_SECONDS=120
CACHE_TTL_PRODUCTS_SECONDS=60

# PayPal（可选）
NEXT_PUBLIC_PAYPAL_CLIENT_ID=
NEXT_PUBLIC_PAYPAL_ENVIRONMENT=sandbox
